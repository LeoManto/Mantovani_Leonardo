<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<!--
<link rel="stylesheet" type="text/css" href="../css/issStyle1.css">
<script type="text/javascript" src="../css/issStyle.js"></script>
-->
<style type="text/css">
    body {
        margin-left: 30px;
        margin-right: 30px;
    }

    ;

    P {
        font-family: Tahoma;
        font-size: 10pt;
    }

    ;

    a,
    a:visited,
    a:active,
    a:link,
    a:hover {
        text-decoration: underline;
        color: #545454;
        background-color: transparent;
        font-size: 93%;
    }

    a:hover {
        background-color: #cccccc;
    }


    hr {
        clear: both;
        height: 1px;
        color: #242424;
        background-color: transparent;
    }

    h1,
    h2,
    h3 {
        color: #242424;
        clear: left;
        font: 100% Tahoma, Helvetica, Arial, sans-serif;
        margin-bottom: 0.5em;
        padding-top: 0.5em;
        border-radius: 10px;
        padding: 5px;
    }

    top {
        width: 100%;
    }


    #i {
        color: #ff1010;
    }

    tt {
        font-family: "Arial";
        font-size: 90%;
        color: #006600;
    }

    em {
        font-family: "Arial";
        font-size: 80%;
        font-weight: bold;
        border-style: solid;
        border-color: #abe876;
        color: #1632cc;
    }

    bc {
        font-family: "Arial";
        font-size: 90%;
        font-weight: bold;
        color: #990000;
        background-color: #fcf8c7;
    }

    ks {
        font-family: "Arial";
        font-weight: bold;
        color: #0000CD;
        font-size: 90%;
    }

    kc {
        font-family: "Arial";
        font-weight: bold;
        color: #008000;
        font-size: 90%;
    }

    pre {
        font-family: "Consolas";
        font-size: 85%;
        background-color: #f5f5f5;
        border: 1.5px solid silver;
        padding: 5px;
    }

    m {
        font-family: "Helvetica";
        line-height: 100%;
        font-size: 75%;
    }

    div.body {

        font-size: 18px;
    }

    k {
        color: #990000;
        font-weight: bold;
        font-size: 90%;
    }

    h1 {
        font-size: 150%;
        background-color: #b2c0ff;
        padding: 10px;
    }

    h2 {
        background-color: #9ed8ff;
        font-size: 130%;
    }

    h3 {
        background-color: #e6ccff;
        font-size: 100%;
    }

    h4 {
        background-color: #ccffcc;
        font-size: 100%;
        width: 95%;
        border-radius: 5px;
        padding: 2px;
    }

    h5 {
        background-color: #d5ffb0;
        font-size: 100%;

    }

    div.req {
        background-color: #d9ffb3;
        font-size: 18px;
        width: 700px;
        border: 3px solid green;
        padding: 15px;
        margin: 10px;
    }

    div.remark {
        background-color: #E3F2FD;
        border: 1.5px solid #d5f2ed;
        padding: 15px;
        margin: 10px;
        border-radius: 25px;
    }

    table,
    th,
    td {
        border: 1px solid black;
        border-collapse: collapse;
    }

    ol,
    ul,
    li {
        margin: 0;
        margin-left: 10px;
        padding: 0;
        padding-bottom: 5px;
    }

    table,
    th,
    td {
        border: 1px solid black;
    }

    img {
        border: 1.5px solid #d5f2ed
    }

    a,
    a:visited,
    a:active,
    a:link,
    a:hover {
        text-decoration: underline;
        color: #545454;
        background-color: transparent;
    }

    div.wrapdesc {
        width: 90%;
        margin: auto;
    }

    div.imagedesc {
        width: 85%;
        margin: auto;
    }
</style>

<head>

    <title>resumableBoundaryWalker</title>
</head>

<body>
    <div id="top">
        <h1>Lab ISS | the project resumableBoundaryWalker<font size="5"></font>
        </h1>
    </div>

    <div class="body">
        <h2>Introduction</h2>
        This case-study starts to deal with the design and development of proactive/reactive software systems which work
        under user-control.

        <h2>Requirements</h2>


        <div class="remark">

            Design and build a software system (named from now on 'the application') that leads the robot described in
            <a href="https://htmlpreview.github.io/?https://github.com/anatali/issLab2021/blob/master/it.unibo.virtualRobot2020/userDocs/VirtualRobot2021.html"
                target="lab"><em>VirtualRobot2021.html</em></a>
            to walk along the boundary of a empty, rectangular room under user control.
            <br />
            More specifically, the <ks>user story</ks> can be summarized as follows:
            <br />
            <table style="width:98%">
                <tbody>

                    <tr>
                        <td style="width:65%">
                            the robot is initially located at the <ks>HOME</ks> position, as shown in the picture on the
                            rigth
                        </td>
                        <td>
                            <center><img src="./img/emptyGridWithHome.png" alt="emptyGridWithHome" width="35%"></center>
                        </td>
                    </tr>

                    <tr>
                        <td style="width:65%">
                            the application presents to the user a <ks>consoleGui</ks> similar to that shown in the
                            picture on the rigth
                        </td>
                        <td>
                            <center><img src="./img/stopResumeConsole.png" alt="stopResumeConsole" width="35%"></center>
                        </td>
                    </tr>



                    <tr>
                        <td style="width:65%">
                            when the user hits the button <k>RESUME</k> the robot <ks>starts or continue to walk</ks>
                            along the boundary, while
                            updating a <ks>robot-moves history</ks>;
                        </td>
                        <td>
                        </td>
                    </tr>

                    <tr>
                        <td style="width:65%">
                            when the user hits the button <k>STOP</k> the robot stop its journey, waiting for another
                            <k>RESUME</k> ;
                        </td>
                        <td>
                        </td>
                    </tr>

                    <tr>
                        <td style="width:65%">
                            when the robot reachs its <ks>HOME</ks> again, the application <i>shows the robot-moves
                                history</i> on the standard output device.
                        </td>
                        <td>
                        </td>
                    </tr>


                </tbody>
            </table>


        </div>

        <h3>Delivery</h3>
        The customer <ks>hopes to receive</ks> a working prototype (written in Java ) of the application by <k>Monady 22
            March</k>.
        The name of this file (in pdf) should be:
        <pre>
cognome_nome_resumablebw.pdf
</pre>

        <h2>Requirement analysis</h2>

        <p>After interviewing client, meanings he associates with nouns have been clarified:</p>
        <ul>
            <li>
                <ks>room</ks>: a conventional room, as found in all buildings
            </li>
            <li>
                <ks>boundary</ks>: room's perimeter, physically delimited by solid wall
            </li>
            <li>
                <ks>robot</ks>: a device able to moving after receiving commands by network, as reported in <a
                    href="./VirtualRobot2021.html">VirtualRobot2021.html</a>
            </li>
            <li>
                <ks>consoleGUI</ks>: a graphic interface used by user to impart order to the robot. It's composed by two
                buttons, <k>RESUME</k> and <k>STOP</k>.
                <ul>
                    <li>
                        <k>RESUME</k> button per to <ks>start or continue the robot walk</ks> around room's boundary,
                        while updating a <ks>robot-moves history</ks>.
                    </li>
                    <li>
                        <k>STOP</k> button <ks>interrupt the robot walk</ks> in his actual position.
                    </li>
                </ul>
            </li>
            <li>
                <ks>home</ks>: the initial position of the robot in where he start his walk.
            </li>
            <li>
                <ks>robot-moves hystory</ks>: during the robot run, the application saves and remembers all moves
                performed.
            </li>
        </ul>
        <p>Regarding to actions (verbs):</p>
        <ul>
            <li>
                <ks>walk</ks>: the robot have to move forward, near room's walls
            </li>
        </ul>

        <h3>A first <a href="https://en.wikipedia.org/wiki/User_story" target="web">user story</a></h3>

        <table style="width:98%">
            <tbody>
                <tr>
                    <td style="width:60%">

                        As mentioned in the requirements, when user start the application, this present a GUI in which
                        are prensent two button <k>RESUME</k> and <k>STOP</k>.
                        At the start the robot are positioned in the <k>HOME</k> cell. To start the robot run, user must
                        press button <k>RESUME</k>. Once the button is pressed, robot start
                        his walk around the room boundary. In any moment of execution, the user can press button <k>STOP
                        </k>. In that case the robot stop his walk in the position in where he is.
                        To resume the walk, user must press the button <k>RESUME</k>. During robot walk, the application
                        remember all moves that robot performs. Once the robot reach again <k>HOME</k> position,
                        execution is finished and all robot-moves history will print on the standard output device.
                        <br /><br />
                        In this case user have total control of the robot walk, through the GUI, he can
                        start/stop/resume its execution when he wants.
                        <br /><br />
                        At the end of system's execution, I expect that robot performed (only one time) path shown
                        in figure.

                    </td>
                    <td>
                        <center><img src="./img/TestPlan0.png" alt="TestPlan0" width="60%"></center>
                    </td>
                </tr>
            </tbody>
        </table>



        <h2>Problem analysis</h2>
        <h3>Aspect noted</h3>
        <ol>
            <li>System must provide both <em>proactive</em> (that is bondary walk) and <em>reactive</em> (the need to
                react
                to <k>STOP/RESUME</k> buttons pressure) behaviour.</li>
            <li>
                <k>STOP</k> button provide to interrupt the robot journey after completion of last given command
            </li>
            <li>
                <k>RESUME</k> button provide at the application start to begin journey around room boundary, instead
                after
                an interruption, it provide to restart the journey from point where it stopped
            </li>
            <li>
                Buttons are implemented in a <ks>GUI</ks>, user have to interact with this component to effectively
                change behaviour of the robot.
            </li>
        </ol>

        <h3>Logical Architecture</h3>
        <table style="width:98%">
            <tbody>
                <tr>
                    <td style="width:50%">
                        We do introduce the following terminology:<br /><br />
                        <ul>
                            <li>
                                <bc>Dispatch</bc>: a message '<i>fire and forget</i>': the sender does not expect any
                                answer.
                            </li>
                            <li>
                                <bc>Request</bc>: the sender expects an answer sent using a <bc>Reply</bc>.
                            </li>
                            <li>
                                <bc>Invitation</bc>: the sender expects an <tt>ack</tt>.
                            </li>
                            <li>
                                <bc>Event</bc>: the sender '<i>emits information</i>' without specifying any receiver.
                                <!--(<tt>RECEIVER=none</tt>)-->
                            </li>
                        </ul>
                    </td>
                    <td>
                        <center><img src="./img/issMsgSymbols.png" alt="issMsgSymbols" width="40%"></center>
                    </td>
                </tr>
                <tr>
                    <td style="width:60%">
                        We must design and build a <k>distributed system</k> with two software macro-components:
                        <ol>
                            <li>the <a href="VirtualRobot2021.html" target="web">
                                    <ks>VirtualRobot</ks>
                                </a>, given by the customer</li>
                            <li>our <ks>resumableBoundaryWalker</ks> application that interacts with the robot with a
                                <i>websocket technology</i>. We use this technology as we want that the communication
                                between
                                application and robot be continuous. This decision was made since the user can have a
                                continuos interaction with application. Indeed he can interact with robot moves
                                pressing <k>RESUME/STOP</k> commands</li>

                        </ol>
                        A first scheme of the logical architecture of the systems can be defined as shown in the figure
                        (for the meaning of the symbols, see the <a href="./img/legenda.png" target="web">legenda</a>)

                    </td>
                    <td>
                        <center><img src="./img/logicArch0.png" alt="logicArch0" width="100%"></center>
                    </td>
                </tr>


            </tbody>
        </table>

        <h3>Available resources</h3>
        <p>Since we already have a working code that could be usefully exploited to reduce devolopement time of our firt
            prototype of this application. Those resources are:</p>

        <ul>
            <li><em>Proactive</em> behaviour is already analyzed and designed in a previous project <a
                    href="../../it.unibo.virtualrobotclient/userDocs/VirtualrobotClients.html#asynchbwjava2"
                    target="code">
                    <tt>ClientBoundaryWebsockArilAsynch</tt></a>.</li>
            <li>The <a href="../../it.unibo.virtualrobotclient/app/src/main/java/it/unibo/consolegui/Consolegui.java"
                    target="code">Consolegui.java</a>
                (in project <a href="../../it.unibo.virtualrobotclient/app/src/main/java/it/unibo/consolegui"
                    target="code">it.unibo.virtualrobotclient</a>) </li>

            <li>The <a href="../../it.unibo.virtualrobotclient/app/src/main/java/it/unibo/wenv/RobotMovesInfo.java"
                    target="code">RobotMovesInfo.java</a>
                (in project <a href="../../it.unibo.virtualrobotclient/app/src/main/java/it/unibo/wenv"
                    target="code">it.unibo.virtualrobotclient</a>) </li>


            <li>The <a
                    href="../../it.unibo.virtualrobotclient/app/src/main/java/it/unibo/wenv/RobotInputController.java"
                    target="code">RobotInputController.java</a>
                (in project <a href="../../it.unibo.virtualrobotclient/app/src/main/java/it/unibo/wenv"
                    target="code">it.unibo.virtualrobotclient</a>) </li>
        </ul>

        <table style="width:98%">
            <tbody>
                <tr>
                    <td style="width:50%">
                        Following the
                        <a href="https://stackify.com/solid-design-principles/" target="web">
                            <k>Single Responsibility Principle</k>
                        </a>,
                        the application component is composed of: <br /><br />
                        <ul>

                            <li>the controller
                                <a href="../app/src/main/java/it/unibo/wenv/RobotInputController.java"
                                    target="code">RobotInputController</a>:
                                it is a <a href="https://www.baeldung.com/java-pojo-class" target="web">
                                    <ks>POJO</ks>
                                </a>
                                that implements the
                                <a href="../app/src/main/java/it/unibo/interaction/IssObserver.java"
                                    target="code"><tt>IssObserver</tt></a> interface
                                and works as an <a href="https://en.wikipedia.org/wiki/Observer_pattern" target="web">
                                    <k>Observer</k>
                                </a> of the
                                underlying ws-based communication support.
                                <br />
                                <m>
                                    Thus, it is called by the underlying support, and handles the <tt>endmove</tt>
                                    messages sent by the WEnv on the
                                    wsconnection by executing the proper operation of the
                                    <a href="../app/src/main/java/it/unibo/wenv/RobotBoundaryLogic.java"
                                        target="code"><tt>RobotBoundaryLogic</tt></a>
                                    that performs the boundary walk <em>without interruptions</em>.</m>
                                <br /><br />
                            </li>
                            <li>the <a href="../app/src/main/java/it/unibo/wenv/RobotBoundaryLogic.java"
                                    target="code"><tt>RobotBoundaryLogic</tt></a>,
                                that provides the following operations:<br /><br />
                                <ul>
                                    <li><tt>doBoundaryInit</tt>: <m>called at the system start-up</m>
                                    </li>
                                    <li><tt>boundaryStep</tt>: <m>called when the controller handles a <tt>endmove</tt>
                                            message</m>
                                    </li>
                                    <li><tt>doBoundaryGoon</tt>: <m>an internal operation that calls a single-step robot
                                            move</m>
                                    </li>
                                </ul>
                                <m>
                                    These operations are called by the <a
                                        href="../app/src/main/java/it/unibo/wenv/RobotInputController.java"
                                        target="code">
                                        RobotInputController</a> that handles the <tt>endmove</tt> messages sent by the
                                    WEnv on the wsconnection
                                    as answers to the execution of a robot-move done by the
                                    <a href="../app/src/main/java/it/unibo/wenv/RobotBoundaryLogic.java"
                                        target="code"><tt>RobotBoundaryLogic</tt></a>
                                    itself.</m>
                                <br /><br />
                            </li>

                            <li>The <a href="../app/src/main/java/it/unibo/wenv/RobotMovesInfo.java"
                                    target="code"><tt>RobotMovesInfo</tt></a>
                                that provides an utility to represent the robot journey as a string or as a map.
                            </li>
                        </ul>


                    </td>
                    <td>
                        <center><img src="./img/RobotBoundaryArilZooming.png" alt="RobotBoundaryArilZooming"
                                width="100%"></center>
                        <br /><br />
                        Moreover, our 'company' has already defined:<br /><br />

                        <li>The <a href="../app/src/main/java/it/unibo/consolegui/Consolegui.java"
                                target="code">Consolegui.java</a> class:
                            it provides a GUI with the buttons <tt>STOP</tt> and <tt>RESUME</tt> and already accepts a
                            controller that implements the
                            <a href="../app/src/main/java/it/unibo/interaction/IssObserver.java"
                                target="code"><tt>IssObserver</tt></a> interface


                    </td>
                </tr>
            </tbody>
        </table>



        <h2>Test plans</h2>
        <p>We should simulate a user command and check the effects of the user commnds STOP/RESUME.</p>

        <h2>Project</h2>

        <p>Considering all resources that we already have, without create other classes, we can customize those
            resources in order to adapt them to this problem.</p>
        <table style="width:98%">
            <tbody>
                <tr>
                    <td style="width:40%">
                        <ol>
                            <li><a href="../app/src/main/java/it/unibo/consolegui/Consolegui.java" target="code">Consolegui.java</a>
                                connected to the <a href="../..//app/src/main/java/it/unibo/resumablebw/RobotApplInputController.java" target="code">RobotApplInputController.java</a>.
                                This class implements <ks>Observer</ks> class in order to catch every interaction with button on the GUI.
                                <br /><br />
                            </li>

                            <li> <a href="../app/src/main/java/it/unibo/resumablebw/RobotApplInputController.java" target="code">RobotApplInputController.java</a> an object that handles the JSON messages
                                <pre><m>{"robotcmd":"STOP"}    {"robotcmd":"RESUME"}  </m></pre> and calls
                                <a href="../app/src/main/java/it/unibo/resumablebw/ResumableBoundaryLogic.java" target="code">ResumableBoundaryLogic.java</a>.<br />
                                <br /><br /> </li>

                            <li><a href="../app/src/main/java/it/unibo/resumablebw/ResumableBoundaryLogic.java" target="code">ResumableBoundaryLogic.java</a>
                                that consider the fact that the journey could have been stopped.
                                <p>The difference between other locig class is that here we must handle the case in which the robot moves is halted. To do this the function <ks>buondary step</ks>
                                make a controll on a new variable <k>jouneyHalted</k> that change according to user actions on GUI</p>
                                <br /><br /></li>


                        </ol>


                    </td>
                    <td>
                        <center><img src="./img/ResumableRobotBoundary.png" alt="ResumableRobotBoundary" width="100%">
                        </center>
                    </td>
                </tr>
            </tbody>
        </table>

        <h2>Testing</h2>


        <h2>Deployment</h2>
        The deployment consists in the commit of the application on a project named <ks>iss2021_resumablebw</ks> of the
        MY
        GIT repository ( <a href="https://github.com/LeoManto/Mantovani_Leonardo">
            <k>https://github.com/LeoManto/Mantovani_Leonardo</k>
        </a> ).
        <br /><br />
        The final commit commit has done after <k>XXX</k> hours of work.

        <h2>Maintenance</h2>

        <br /><br />

        <p>My git repo: <a href="https://github.com/LeoManto/Mantovani_Leonardo">
                <k>https://github.com/LeoManto/Mantovani_Leonardo</k>
        </p>
        </a>
        <div style="background-color:rgba(86, 56, 253, 0.9); color:white">
            <p style="text-align: center;">By Leonardo Mantovani email: leonardo.mantovani2@studio.unibo.it</p>
            <center><img src="./img/foto.jpg" alt="teacher" width="15%" height="15%"></center>
        </div>
    </div>
</body>

</html>

<!-- USEFUL
<table style="width:100%" border="1">
<tr>
<td style="width:50%">
</td>
<td></td>
</tr>
</table>
 QUESTIONS:
chiarisce cosa il committente intende con 'Optionally'  
chiarisce cosa il committente intende con 'should remember' 
chiarisce cosa il committente intende con 'mental map'
--definisce la user story in modo da comprendere TUTTI i requisiti (anche opzionali)
--discute se sia meglio avvalersi di HTTP o delle websocket e perchè
++discute se sia meglio usare il linguaggio di comando cril, aril (o altro) e perchè
discute se sia meglio muovere il robot in modo random o in modo organizzato 
discute se il ritorno alla den debba/possa avvenire senza ricalcare il percorso effettuato
presenta ogni TestPlan collegandolo ad una user story e in modo 'concreto' (non come un insieme di intenti)
propone diverse tipologie di scene/situazioni per il testing
++individua e propone (motivandola) una lista di priorità per il soddisfacimento dei requisiti 
--presenta una stima dei tempi di realizzazione 
++presenta un elenco delle risorse che sarebbe opportuno avere e/o procurarsi
++presenta una architettura di progetto
--presenta dettagli di progetto che permettono una precisa implementazione da parte di chi legge
--pone in evidenza le parti di funzionamento proattivo e quelle di funzionamento reattivo
ECCEDE nelle dimensioni del file (al momento > 1600Kb)


-->