<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<!--
<link rel="stylesheet" type="text/css" href="../css/issStyle1.css">
<script type="text/javascript" src="../css/issStyle.js"></script>
-->
<style type="text/css">
    body {
        margin-left: 30px;
        margin-right: 30px;
    }

    ;

    P {
        font-family: Tahoma;
        font-size: 10pt;
    }

    ;

    a,
    a:visited,
    a:active,
    a:link,
    a:hover {
        text-decoration: underline;
        color: #545454;
        background-color: transparent;
        font-size: 93%;
    }

    a:hover {
        background-color: #cccccc;
    }


    hr {
        clear: both;
        height: 1px;
        color: #242424;
        background-color: transparent;
    }

    h1,
    h2,
    h3 {
        color: #242424;
        clear: left;
        font: 100% Tahoma, Helvetica, Arial, sans-serif;
        margin-bottom: 0.5em;
        padding-top: 0.5em;
        border-radius: 10px;
        padding: 5px;
    }

    top {
        width: 100%;
    }


    #i {
        color: #ff1010;
    }

    tt {
        font-family: "Arial";
        font-size: 90%;
        color: #006600;
    }

    em {
        font-family: "Arial";
        font-size: 80%;
        font-weight: bold;
        border-style: solid;
        border-color: #abe876;
        color: #1632cc;
    }

    bc {
        font-family: "Arial";
        font-size: 90%;
        font-weight: bold;
        color: #990000;
        background-color: #fcf8c7;
    }

    ks {
        font-family: "Arial";
        font-weight: bold;
        color: #0000CD;
        font-size: 90%;
    }

    kc {
        font-family: "Arial";
        font-weight: bold;
        color: #008000;
        font-size: 90%;
    }

    pre {
        font-family: "Consolas";
        font-size: 85%;
        background-color: #f5f5f5;
        border: 1.5px solid silver;
        padding: 5px;
    }

    m {
        font-family: "Helvetica";
        line-height: 100%;
        font-size: 75%;
    }

    div.body {

        font-size: 18px;
    }

    k {
        color: #990000;
        font-weight: bold;
        font-size: 90%;
    }

    h1 {
        font-size: 150%;
        background-color: #b2c0ff;
        padding: 10px;
    }

    h2 {
        background-color: #9ed8ff;
        font-size: 130%;
    }

    h3 {
        background-color: #e6ccff;
        font-size: 100%;
    }

    h4 {
        background-color: #ccffcc;
        font-size: 100%;
        width: 95%;
        border-radius: 5px;
        padding: 2px;
    }

    h5 {
        background-color: #d5ffb0;
        font-size: 100%;

    }

    div.req {
        background-color: #d9ffb3;
        font-size: 18px;
        width: 700px;
        border: 3px solid green;
        padding: 15px;
        margin: 10px;
    }

    div.remark {
        background-color: #E3F2FD;
        border: 1.5px solid #d5f2ed;
        padding: 15px;
        margin: 10px;
        border-radius: 25px;
    }

    table,
    th,
    td {
        border: 1px solid black;
        border-collapse: collapse;
    }

    ol,
    ul,
    li {
        margin: 0;
        margin-left: 10px;
        padding: 0;
        padding-bottom: 5px;
    }

    table,
    th,
    td {
        border: 1px solid black;
    }

    img {
        border: 1.5px solid #d5f2ed
    }

    a,
    a:visited,
    a:active,
    a:link,
    a:hover {
        text-decoration: underline;
        color: #545454;
        background-color: transparent;
    }

    div.wrapdesc {
        width: 90%;
        margin: auto;
    }

    div.imagedesc {
        width: 85%;
        margin: auto;
    }
</style>

<head>

    <title>Workshift</title>
</head>

<body>
    <div id="top">
        <h1>LABORATORIO DI INGEGNERIA DEI SISTEMI SOFTWARE <font size="5"></font>
        </h1>
    </div>

    <div class="body">
        <h2>Introduction</h2>

        <p><ks>Software System</ks> project using distributed <k>QActorK</k>. Developement of the theme <ks>ES0</ks>.</p>

        <h2>Requirements</h2>


        <div class="remark">
            <p>Design and build a software system (named <ks>workshift</ks>) that allows to manage a machine according
                to three turns:
                <ol>
                    <li>in the <k>first turn</k> (in the morning) the machine is able to handle messages (dispatches) of
                        type <ks>m1:m1(V)</ks>
                    </li>
                    <li>in the <k>second turn</k> (in the afternoon) the machine is able to handle messages (dispatches)
                        of type <ks>m2:m2(V)</ks>
                    </li>
                    <li>in the <k>third turn</k> (in the nigth) the machine 'sleeps'</li>
                </ol>
            </p>
            Messages of types m1 and m2 can be sent by external entities at every time.
        </div>



        <h2>Requirement analysis</h2>
        <p>After interviewing client, meaning he associates with nouns have been clarified:</p>
        <ul>
            <li>
                <ks>Turn</ks>: there are three turn that represent different moment of the day. Every turn define the
                behaviour that machine in which is installed the software system has to assume.
            </li>
            <li>
                <ks>Handle</ks>: in the requirements are not defined specific actions that the machine assume during
                message handling.
                In this case, we have assumed that in case a message has to be handled, it will be printed.
            </li>
            <li>
                <ks>Message</ks>: a simple message with the form specified in requirements <k>m1:m1(V)</k> or <k>
                    m2:m2(V)</k>. Messages can be sent at every time.
            </li>
            <li>
                <ks>Sleeps</ks>: during this period, the machine do nothing.
            </li>
            <li>
                <ks>Morning</ks>: period of the day that start around <k>06:00</k> and ends around <k>13:00</k>.
            </li>
            <li>
                <ks>Aftenoon</ks>: period of the day that start around <k>13:00</k> and ends around <k>19:00</k>.
            </li>
            <li>
                <ks>Night</ks>: period of the day that start around <k>19:00</k> and ends around <k>06:00</k>.
            </li>
            <li>
                <ks>Extenarl Entities</ks>: a machine (or a group of machines) that is separate from the internal
                machine (on which is installed the software system).
                This machine have the task of send message, of m1 or m2 type, to internal computer.
            </li>
            <li>
                <ks>Send</ks>: we only know that the external entity have to send message to the internal computer, but
                is not specified specified the way with which the message will have to be sent.
            </li>
            <p>The hours that define moments of the day were decided by my personal interpretation.</p>
        </ul>
        <h3>A first <a href="https://en.wikipedia.org/wiki/User_story" target="web">user story</a></h3>
        <div class="remark">
            <p>
                When the system starts up, according to the time of day the machine is in, a specific turn is activated.
                Let's take it as an example, that turn at the start of machine is that of <k>morning</k>.
                The machine in the <k>morning</k> is able to handle message of <k>m1</k> type. Messages are sent by
                External entities at any moment of day, and those could be of <k>m1</k> or <k>m2</k> type.
                If at certain moment a message of <k>m1</k> type arrive, machine that is in the <k>morning</k> state,
                can immediately
                hadle this according to the decided behaviour. If instead there is a message of type <k>m2</k>, this
                is saved in a queue and it will be handled after in the specific turn.
            </p>
            <p>
                At the end of turn (if we are in morning turn, the end will be at 13:00) there will be a transaction of
                turn. Then machine will pass from the morning turn to that of aftenoon.
                In the same way the machine will have a transaction at the end of afternoon, when it will pass to night
                turn.
            </p>
        </div>

        <p></p>


        <h2>Problem analysis</h2>
        <h3>Aspect noted</h3>
        <ul>
            <li>
                There are three different period of the day, <ks>Morning</ks>, <ks>Afternoon</ks> and <ks>Night</ks>.
                Any of this periods can be intended as different states in which our machine can be during the day.
            </li>
            <li>
                It's not specified the specific moment in which the machine will be started. For this reason, at startup
                the machine will take the state according to the time of the day in which it is.
            </li>
            <li>
                Messages are sent from external entities without any kind of request by the internal entity, then
                those will be sent with <k>Dispatch</k> mode (Fire and Forget).
            </li>
            <li>
                Considering that messages are sent at any moment and without regulation on which type by the extenarl entities, those will be placed in a queue and handled in their specific turn.
            </li>
            <li>
                For this project is requested the use of the <a href="../qakIntro/LabQakIntro2021.html">QActorK</a>.
            </li>
        </ul>
        <h3>Logical Architecture</h3>
        <table style="width:100%" border="1">
            <tr>
                <td style="width:40%">
                    <ul>
                        <li>
                            This software system is distributed. The <ks>intenarl entity</ks> is situated in a context that we assume as <k>"Internal"</k>. In this contex is situated the machine that have to change on the three
                            described turn, and have the goal to handle the received messages.
                        </li>
                        <li>
                            The <ks>extenarl entities</ks> intead are situated in another context that we have called <k>"External"</k>. In the picture on the side is rappresented an architecture with only one external context. But this is not specified 
                            explicitly, then could exist more than one external context. Every context can contain more entities. Those entities have the goal of sending messages to the internal entity at every time
                            with no specified regulation.
                        </li>
                        <li>
                            Messages that are sended have this kind of syntax: <ks>m1:m1(arg)</ks> or <ks>m2:m2(arg)</ks>. <k>arg</k> indicates the content of the message.<br>
                            When those arrive to internal machine, it's not for sure that will be handled immediately. For this reason those are placed in a queue and handled in their specific turn.
                        </li>
                    </ul>
                </td>
                <td>
                    <center><img src="img/Modello.jpg" width="40%" height="40%"></center>
                </td>
            </tr>
        </table>
        <h3>State Model</h3>
        <table style="width:100%" border="1">
            <tr>
                <td style="width:40%">
                    <!--TODO potrebbe esserci una qualche entità interna che al cambiare del periodo della giornata manda un evento, il quale ricevuto dall'applicazione fa cambiare stato al sistema-->
                    <p>At the application startup the machine is in state <ks>s0</ks>. In this state it's checked the actual hour, on the basis of which will be decided the correct state.</p>
                    <ul>
                        <li>
                            Morning turn (<ks>s1</ks>)
                            <ul>
                                <li>Morning turn message (<ks>s1 Message</ks>)</li>
                            </ul>
                        </li>
                        <li>
                            Afternoon turn(<ks>s2</ks>)
                            <ul>
                                <li>Afternoon turn message (<ks>s2 Message</ks>)</li>
                            </ul>
                        </li>
                        <li>
                            Night turn (<ks>s3</ks>)
                        </li>
                    </ul>
                    <p>
                        The Internal Entity actor waits for a message, if none have arrived yet, or check the queue. Then passes in the state in which messages are handled. 
                        At the end it returns to control state.
                    </p>
                </td>
                <td>
                    <center><img src="img/StatiProgetto.jpg" width="50%" height="50%"></center>
                </td>
            </tr>
            <tr>
                <td style="width:40%">
                    <p>
                        The change of turn (<ks>s1➟s2</ks>, <ks>s2➟s3</ks>, <ks>s3➟s1</ks>) is decided by the arrive of an event.
                        For this reason it's necessary to introduce an another entity that help the machine. <br>
                        This new entity is internal (placed in the <k>Internal Context</k>), and cyclically check the current hour.
                        When the actual time corresponds to the start time of a state, this entity send and event to the machine which switchs to the next state.
                    </p>
                </td>
                <td>
                    <center><img src="img/ModelloEvents.jpg" width="60%" height="60%"></center>
                </td>
            </tr>
        </table>
        
        <!-- TODO spiegare il fatto che si utilizzerà un linguaggio di modellazione qak (studiare problemi che questo comporta)-->

        <h2>Test plans</h2>


        <h2>Project</h2>


        <h2>Testing</h2>


        <h2>Deployment</h2>


        <h2>Maintenance</h2>

        <!-- USEFUL
        <table style="width:100%" border="1">
        <tr>
        <td style="width:50%">
        </td>
        <td></td>
        </tr>
        </table>
        -->

        <br /><br />
    </div>

    <p>My git repo: <a href="https://github.com/LeoManto/Mantovani_Leonardo">
            <k>https://github.com/LeoManto/Mantovani_Leonardo</k>
    </p>
    </a>
    <div style="background-color:rgba(86, 56, 253, 0.9); color:white">
        <p style="text-align: center;">By Leonardo Mantovani email: leonardo.mantovani2@studio.unibo.it</p>
        <center><img src="./img/foto.jpg" alt="teacher" width="15%" height="15%"></center>
    </div>
</body>

</html>